import{r as b,R as a,L as u,P as g,s as E,h as x}from"./index-CuHqhT-B.js";import{i as w,L as A}from"./Layout-CtjGH-YV.js";import{H as D}from"./Helment-C1gkBtmm.js";import{A as S}from"./Buttons-DLqq7mBN.js";import{M}from"./MyDataTable-BvMB8lev.js";import{G as k}from"./GetAPI-C-MwNlb1.js";import{d as I}from"./dayjs.min-QyrMy4xh.js";function U(){var d;const{data:r,reFetch:c}=k("admin/getAllUsers");console.log("ðŸš€ ~ Property ~ data:",r);const[m,y]=b.useState(""),C=()=>{var o,s;return(s=(o=r==null?void 0:r.data)==null?void 0:o.userData)==null?void 0:s.filter(n=>m===""||(n==null?void 0:n.id)&&(n==null?void 0:n.id.toString().includes(m.toLowerCase()))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().includes(m.toLowerCase())))},L=async(e,o)=>{var s,n,l,f,h,p;if(o===!0){let t=await g("admin/userChangeStatus",{userId:e,status:!1});((s=t==null?void 0:t.data)==null?void 0:s.status)==="1"?(E((n=t==null?void 0:t.data)==null?void 0:n.message),c()):x((l=t==null?void 0:t.data)==null?void 0:l.message)}else{let t=await g("admin/userChangeStatus",{userId:e,status:!0});((f=t==null?void 0:t.data)==null?void 0:f.status)==="1"?(E((h=t==null?void 0:t.data)==null?void 0:h.message),c()):x((p=t==null?void 0:t.data)==null?void 0:p.message)}},N=[{field:"id",header:"User Id"},{field:"name",header:"Name"},{field:"email",header:"Email"},{field:"type",header:"Charger type"},{field:"logIn",header:"Last Logged in"},{field:"status",header:"Status"},{field:"action",header:"Action"}],i=[];return(d=C())==null||d.map((e,o)=>i.push({id:e==null?void 0:e.id,name:e==null?void 0:e.name,email:e==null?void 0:e.email,type:"EVDC-120KW",logIn:I(e==null?void 0:e.lastLogin).format("DD MMM, YYYY h:mm a"),status:a.createElement("div",null,e!=null&&e.status?a.createElement("div",{className:`bg-[#21965314] text-themeGreen font-semibold p-2 rounded-md flex 
              justify-center`},"Active"):a.createElement("div",{className:`bg-[#EE4A4A14] text-themeRed font-semibold p-2 rounded-md flex 
              justify-center`},"Block")),action:a.createElement("div",{className:"flex items-center gap-3"},a.createElement("label",null,a.createElement(w,{onChange:()=>{L(e==null?void 0:e.id,e==null?void 0:e.status)},checked:e==null?void 0:e.status,uncheckedIcon:!1,checkedIcon:!1,onColor:"#139013",onHandleColor:"#fff",className:"react-switch",boxShadow:"none"})))})),(r==null?void 0:r.length)===0?a.createElement(u,null):a.createElement(A,{content:a.createElement("div",{className:"p-5 space-y-5"},a.createElement("div",{className:"flex justify-between items-center flex-wrap gap-5"},a.createElement("h2",{className:"text-themeDarkBlue text-2xl font-bold font-poppins"},"User Management"),a.createElement("div",{className:"flex gap-2"},a.createElement(S,{text:"Message user",onClick:()=>navigate("/add-user")}))),a.createElement("div",{className:"space-y-3"},a.createElement(D,{search:!0,searchOnChange:e=>y(e.target.value),searchValue:m}),a.createElement(M,{columns:N,data:i})))})}export{U as default};
