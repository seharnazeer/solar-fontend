import{G as C,r as f,u as L,R as e,l as x,t as y,v as b,L as D}from"./index-CuHqhT-B.js";import{L as M,l as A}from"./Layout-CtjGH-YV.js";import{A as F,T as i}from"./Buttons-DLqq7mBN.js";import{H as B}from"./Helment-C1gkBtmm.js";import{M as p}from"./MyDataTable-BvMB8lev.js";import{G as N}from"./GetAPI-C-MwNlb1.js";import{d as k}from"./dayjs.min-QyrMy4xh.js";function w(a){return C({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 3H21.1384C21.4146 3 21.6385 3.22386 21.6385 3.5C21.6385 3.58701 21.6157 3.67252 21.5725 3.74807L18 10L21.5725 16.2519C21.7095 16.4917 21.6262 16.7971 21.3865 16.9341C21.3109 16.9773 21.2254 17 21.1384 17H4V22H2V3Z"},child:[]}]})(a)}function P(a){return C({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 5 6 C 3.355469 6 2 7.355469 2 9 L 2 23 C 2 24.644531 3.355469 26 5 26 L 27 26 C 28.644531 26 30 24.644531 30 23 L 30 9 C 30 7.355469 28.644531 6 27 6 Z M 5 8 L 27 8 C 27.566406 8 28 8.433594 28 9 L 28 23 C 28 23.566406 27.566406 24 27 24 L 5 24 C 4.433594 24 4 23.566406 4 23 L 4 9 C 4 8.433594 4.433594 8 5 8 Z M 19.40625 12.375 C 17.480469 12.375 16.46875 13.324219 16.46875 14.53125 C 16.46875 16.710938 19.03125 16.410156 19.03125 17.53125 C 19.03125 17.722656 18.871094 18.15625 17.8125 18.15625 C 16.753906 18.15625 16.0625 17.78125 16.0625 17.78125 L 15.75 19.21875 C 15.75 19.21875 16.40625 19.625 17.71875 19.625 C 19.03125 19.625 20.875 18.617188 20.875 17.15625 C 20.875 15.398438 18.3125 15.28125 18.3125 14.5 C 18.3125 14.101563 18.652344 13.78125 19.5625 13.78125 C 20.15625 13.78125 20.8125 14.25 20.8125 14.25 L 21.125 12.71875 C 21.125 12.71875 20.253906 12.375 19.40625 12.375 Z M 11.1875 12.5 L 9.5 17.4375 C 9.5 17.4375 9.414063 17.011719 9.375 16.75 C 8.421875 14.609375 6.875 13.8125 6.875 13.8125 L 8.34375 19.40625 L 10.34375 19.40625 L 13.15625 12.5 Z M 13.875 12.5 L 12.78125 19.40625 L 14.625 19.40625 L 15.71875 12.5 Z M 23.8125 12.5 L 20.8125 19.40625 L 22.625 19.40625 L 23 18.4375 L 25.3125 18.4375 L 25.5 19.40625 L 27.15625 19.40625 L 25.75 12.5 Z M 4.84375 12.53125 C 4.84375 12.53125 8.441406 13.632813 9.28125 16.34375 L 8.65625 13.21875 C 8.65625 13.21875 8.382813 12.53125 7.65625 12.53125 Z M 24.5 14.5 L 25.03125 17.09375 L 23.53125 17.09375 Z"},child:[]}]})(a)}function V(){var d;const[a,m]=f.useState("All Payments"),[c,u]=f.useState(""),{data:r,reFetch:S}=N("admin/getAllTransactions");console.log("ğŸš€ ~ Support ~ data:",r);const h=L(),g=()=>{var s,E;return(E=(s=r==null?void 0:r.data)==null?void 0:s.transactions)==null?void 0:E.filter(n=>c===""||(n==null?void 0:n.paymentId)&&(n==null?void 0:n.paymentId.toString().includes(c.toLowerCase()))||(n==null?void 0:n.status)&&(n==null?void 0:n.status.toLowerCase().includes(c.toLowerCase()))||(n==null?void 0:n.date)&&(n==null?void 0:n.date.toString().includes(c.toLowerCase())))},o=[{field:"id",header:"Payment ID"},{field:"status",header:"Status"},{field:"amount",header:"Amount"},{field:"method",header:"Payment Method"},{field:"date",header:"Creation Date"}],l=[];return(d=g())==null||d.map((t,s)=>l.push({id:t==null?void 0:t.paymentId,amount:`$${t==null?void 0:t.amount}`,method:e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",null,e.createElement(P,{size:24})),e.createElement("span",null,t==null?void 0:t.card)),date:k(t==null?void 0:t.createdAt).format("DD MMM, YYYY h:mm a"),status:(t==null?void 0:t.status)==="success"?e.createElement("div",{className:`bg-[#EDFFEA] text-[#165E3D] text-center font-manrope font-semibold 
          p-1.5 rounded-md flex items-center justify-center gap-2`},e.createElement("span",null,e.createElement(x,{color:"#165E3D"})),e.createElement("span",null,"Succeeded")):(t==null?void 0:t.status)==="pending"?e.createElement("div",{className:"bg-[#FFF6E9] text-[#B5850B] text-center font-manrope font-semibold p-1.5 rounded-md flex items-center justify-center gap-2"},e.createElement("span",null,e.createElement(y,{color:"#B5850B"})),e.createElement("span",null,"Pending")):(t==null?void 0:t.status)==="declined"?e.createElement("div",{className:"bg-[#FFEAEA] text-[#B83131] text-center font-manrope font-semibold p-1.5 rounded-md flex items-center justify-center gap-2"},e.createElement("span",null,e.createElement(b,{color:"#B83131"})),e.createElement("span",null,"Declined")):e.createElement("div",{className:"bg-[#EAECFF] text-[#3D42AD] text-center font-manrope font-semibold p-1.5 rounded-md flex items-center justify-center gap-2"},e.createElement("span",null,e.createElement(w,{color:"#3D42AD"})),e.createElement("span",null,"Create"))})),(r==null?void 0:r.length)===0?e.createElement(D,null):e.createElement(M,{content:e.createElement("div",{className:"p-5 space-y-5"},e.createElement("div",{className:"flex justify-between items-center flex-wrap gap-5"},e.createElement("h2",{className:"text-themeDarkBlue text-2xl font-bold font-poppins"},"Payments/Charges"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{className:`flex items-center justify-center gap-2 text-sm border border-themeBlack 
                text-white font-semibold font-manrope rounded-md px-5 py-2 h-10 bg-themeBlack hover:bg-transparent hover:text-themeBlack duration-200`},e.createElement("span",null,e.createElement(A,{size:20})),e.createElement("span",null,"Export")),e.createElement(F,{text:"Payment link",onClick:()=>h("/create-ticker")}))),e.createElement("div",{className:"space-y-3"},e.createElement(B,{search:!0,searchOnChange:t=>u(t.target.value),searchValue:c}),e.createElement("div",{className:"py-5 space-y-1.5"},e.createElement("ul",{className:"flex flex-wrap items-center gap-8"},e.createElement(i,{title:"All Payments",tab:a,onClick:()=>m("All Payments")}),e.createElement(i,{title:"Current Charges",tab:a,onClick:()=>m("Current Charges")}),e.createElement(i,{title:"Refunded",tab:a,onClick:()=>m("Refunded")}))),a==="All Payments"?e.createElement(p,{columns:o,data:l}):a==="Current Charges"?e.createElement(p,{columns:o,data:l}):e.createElement(p,{columns:o,data:l})))})}export{V as default};
